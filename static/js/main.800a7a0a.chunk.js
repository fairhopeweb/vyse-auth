(window.webpackJsonpvyseauth=window.webpackJsonpvyseauth||[]).push([[0],{370:function(e,t,a){e.exports=a(785)},388:function(e,t){},390:function(e,t){},406:function(e,t){},408:function(e,t){},573:function(e,t){},637:function(e,t,a){},698:function(e,t,a){},779:function(e,t,a){},780:function(e,t,a){},781:function(e,t,a){},783:function(e,t,a){},785:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),s=a(29),l=a.n(s),c=a(104),m=a(55),u=a(56),p=a(58),h=a(57),d=a(60),g=a(128),f=a(795),y=a(790),v=a(786),E=a(69),b=a(794),k=a(12),w=a(793),S=a(788),T=a(792),C=a(252),x=a(796),O=a(108),A=a(787),j=a(791),I=a(789),N=a(797),P=a(247),U=(a(637),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onClose=function(){a.setState({showInfo:!1})},a.showInfo=function(){a.setState({showInfo:!0})},a.state={token:null,timeRemaining:null,showInfo:!1},a.timeStep=30,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"updateToken",value:function(){var e=this.props.token.secretKey,t=P.authenticator.generate(e),a=P.authenticator.timeRemaining();this.setState({token:t,timeRemaining:a}),this.timer=setTimeout(this.updateToken.bind(this),1e3)}},{key:"componentDidMount",value:function(){this.updateToken()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props.token,t=e.id,a=e.user,n=e.service,o=e.secretKey,i=this.state,s=i.token,l=i.timeRemaining,c=this.props.remove;return r.a.createElement("div",{className:"token",key:t},r.a.createElement(A.a,{hoverable:!0,actions:[r.a.createElement(k.a,{type:"delete",key:"delete",theme:"twoTone",twoToneColor:"#eb2f96",onClick:function(){j.a.confirm({title:"Are you sure?",content:r.a.createElement("div",null,r.a.createElement(y.a.Paragraph,null,"This action is irreversible."),r.a.createElement(y.a.Paragraph,null,r.a.createElement("strong",null,n)," - ",r.a.createElement("strong",null,a)),r.a.createElement(y.a.Paragraph,null,"will be removed permanently.")),onOk:function(){c(t)}})}}),r.a.createElement(k.a,{type:"eye",key:"eye",onClick:this.showInfo})]},r.a.createElement(y.a.Title,{level:3},r.a.createElement(y.a.Paragraph,null,n)),r.a.createElement(y.a.Paragraph,null,a),r.a.createElement(y.a.Title,{level:3,className:"code"},r.a.createElement(y.a.Paragraph,{copyable:!0},s)),r.a.createElement(y.a.Paragraph,{type:"secondary"},"Your token expires in ",r.a.createElement("strong",null,l,"s")),r.a.createElement(I.a,{percent:l/this.timeStep*100,showInfo:!1})),r.a.createElement(w.a,{title:"2FA Token Information",placement:"bottom",closable:!0,onClose:this.onClose,visible:this.state.showInfo,height:"70%",style:{textAlign:"center"}},r.a.createElement("div",{className:"info-holder"},r.a.createElement(N.a,{bordered:!0,column:1},r.a.createElement(N.a.Item,{label:"Service"},r.a.createElement(y.a.Paragraph,{copyable:!0},n)),r.a.createElement(N.a.Item,{label:"Username"},r.a.createElement(y.a.Paragraph,{copyable:!0},a)),r.a.createElement(N.a.Item,{label:"Secret Key"},r.a.createElement(y.a.Paragraph,{copyable:!0},o))))))}}]),t}(r.a.PureComponent)),V=a(359),L=a.n(V),F=(a(698),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).showDrawer=function(){a.setState({drawerVisible:!0})},a.showQrScanner=function(){a.setState({qrVisible:!0})},a.onClose=function(){a.setState({drawerVisible:!1,qrVisible:!1})},a.handleAddToken=function(e){e.preventDefault(),console.log(e)},a.handleTempCompany=function(e){console.log(e.target.value),a.setState({tempCompany:e.target.value})},a.handleTempUsername=function(e){a.setState({tempUsername:e.target.value})},a.handleTempSecret=function(e){a.setState({tempSecret:e.target.value})},a.handleScan=function(e){if(e&&!a.state.isLoading){var t=new URL(e);a.setState({tempCompany:t.searchParams.get("issuer"),tempUsername:t.pathname.split("/").slice(-1)[0].split(":").slice(-1)[0],tempSecret:t.searchParams.get("secret"),qrVisible:!1},a.handleSaveToken)}},a.handleError=function(e){console.error(e)},a.state={isLoading:!1,tokenIndex:0,tokens:[],drawerVisible:!1,qrVisible:!1,tempCompany:"",tempUsername:"",tempSecret:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"fetchData",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.userSession,this.setState({isLoading:!0}),e.next=4,t.getFile("tokens.json");case 4:a=e.sent,n=JSON.parse(a||"[]"),r=n.reduce((function(e,t){return e>t.id?e:t.id}),0),console.log(r),this.setState({tokenIndex:r,tokens:n,isLoading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSaveToken",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,n,r,o,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.tokens,n=t.tokenIndex,r=t.tempCompany,o=t.tempUsername,i=t.tempSecret,s=this.props.userSession,this.setState({isLoading:!0}),!([r,o,i].map((function(e){return e.trim().toLowerCase()})).indexOf("")>-1)){e.next=6;break}return b.a.error("One of the values is missing!",3),e.abrupt("return");case 6:return a.push({id:n+1,user:o,service:r,secretKey:i}),e.next=9,s.putFile("tokens.json",JSON.stringify(a));case 9:this.setState({tokens:a,drawerVisible:!1,qrVisible:!1,tokenIndex:n+1,tempCompany:"",tempUsername:"",tempSecret:"",isLoading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeToken",value:function(){var e=Object(c.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.tokens,n=this.props.userSession,this.setState({isLoading:!0}),a=a.filter((function(e){return e.id!==t})),e.next=6,n.putFile("tokens.json",JSON.stringify(a));case 6:this.setState({tokens:a.filter((function(e){return e.id!==t})),isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.tokens,n=t.drawerVisible,o=t.qrVisible,i=t.isLoading,s=this.state,l=s.tempCompany,c=s.tempUsername,m=s.tempSecret;return r.a.createElement("div",{className:"holder"},r.a.createElement(y.a.Title,{level:2},"Authentication Tokens"),r.a.createElement("div",{className:"actions"},r.a.createElement(E.a.Group,{size:"large"},r.a.createElement(E.a,{type:"primary",onClick:this.showDrawer},r.a.createElement(k.a,{type:"plus"})," Add New"),r.a.createElement(E.a,{type:"primary",onClick:this.showQrScanner},"Scan QR ",r.a.createElement(k.a,{type:"qrcode"})))),r.a.createElement(w.a,{title:"Add Token",placement:"bottom",closable:!0,onClose:this.onClose,visible:n,height:"70%",style:{textAlign:"center"},destroyOnClose:!0},r.a.createElement("div",{className:"add-holder"},r.a.createElement(S.a,{onSubmit:this.handleAddToken},r.a.createElement(S.a.Item,null,r.a.createElement(T.a,{placeholder:"Service Name",size:"large",allowClear:!0,prefix:r.a.createElement(k.a,{type:"appstore",style:{color:"rgba(0,0,0,.25)"}}),suffix:r.a.createElement(C.a,{title:"Name of the service or company"},r.a.createElement(k.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}})),onChange:this.handleTempCompany,value:l})),r.a.createElement(S.a.Item,null,r.a.createElement(T.a,{placeholder:"Username",size:"large",allowClear:!0,prefix:r.a.createElement(k.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),suffix:r.a.createElement(C.a,{title:"Username Identifier"},r.a.createElement(k.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}})),onChange:this.handleTempUsername,value:c})),r.a.createElement(S.a.Item,null,r.a.createElement(T.a,{placeholder:"Secret Key",size:"large",allowClear:!0,prefix:r.a.createElement(k.a,{type:"key",style:{color:"rgba(0,0,0,.25)"}}),suffix:r.a.createElement(C.a,{title:"Secret Key for 2FA"},r.a.createElement(k.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}})),onChange:this.handleTempSecret,value:m})),r.a.createElement(S.a.Item,null,r.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.handleSaveToken.bind(this),loading:this.state.isLoading},"Add"))))),r.a.createElement(w.a,{title:"Add Token",placement:"bottom",closable:!0,onClose:this.onClose,visible:o,height:"70%",style:{textAlign:"center"},destroyOnClose:!0},r.a.createElement("div",{className:"qr-holder"},r.a.createElement(L.a,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}))),r.a.createElement("div",{className:"tokens"},i?r.a.createElement(x.a,{active:!0}):a.length>0?a.map((function(t){return r.a.createElement(U,{key:t.id,token:t,remove:e.removeToken.bind(e)})})):r.a.createElement(O.a,{description:r.a.createElement("span",null,"You have no tokens, start by adding a new 2FA Token!")})))}}]),t}(r.a.PureComponent)),D=(a(779),y.a.Title),R=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={person:{name:function(){return"Anonymous"},avatarUrl:function(){return"https://s3.amazonaws.com/onename/avatar-placeholder.png"}},username:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.userSession.loadUserData();this.setState({person:new g.Person(e.profile),username:e.username})}},{key:"render",value:function(){var e=this.props.userSession,t=this.state,a=t.person,n=t.username;return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"profile"},r.a.createElement(v.a,{src:a.avatarUrl(),name:a.name(),size:120}),r.a.createElement(D,{level:3},a.name()),r.a.createElement(D,{level:4},n),r.a.createElement(E.a,{onClick:this.props.handleSignOut.bind(this),style:{marginTop:"10px"}},"Logout")),r.a.createElement("div",{className:"auth"},r.a.createElement(F,{userSession:e})))}}]),t}(r.a.PureComponent),W=(a(780),a(107)),q=a(48),z=(a(781),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.signIn;return r.a.createElement("div",{className:"page"},r.a.createElement(W.a,null,r.a.createElement(q.a,{xs:24,className:"landing"},r.a.createElement("img",{src:"/icon.png",className:"logo",alt:"Vyse Auth"}),r.a.createElement(y.a.Title,{level:2},"Vyse Auth"),r.a.createElement(y.a.Title,{level:4},"Privacy First 2FA Token Manager"),r.a.createElement(E.a,{size:"large",type:"primary",onClick:e.bind(this)},"Sign In with Blockstack"),r.a.createElement(y.a.Paragraph,null,r.a.createElement("a",{href:"https://www.producthunt.com/posts/vyse-auth?utm_source=badge-featured&utm_medium=badge&utm_souce=badge-vyse-auth",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=168984&theme=dark",alt:"Vyse Auth - Privacy First and Always Available 2FA Token Manager | Product Hunt Embed",style:{width:"250px",height:"54px",marginTop:"2em"},width:"250px",height:"54px"}))))),r.a.createElement(W.a,{type:"flex",align:"middle"},r.a.createElement(q.a,{xs:24,sm:16},r.a.createElement("img",{src:"/images/mockup-desktop.png",alt:"Vyse Auth",className:"mock-reset"})),r.a.createElement(q.a,{xs:24,sm:8},r.a.createElement("img",{src:"/images/mockup-mobile.png",alt:"Vyse Auth",className:"mock-reset"}))),r.a.createElement(W.a,null,r.a.createElement(q.a,{xs:24,sm:12},r.a.createElement("img",{src:"/images/why.png",alt:""})),r.a.createElement(q.a,{xs:24,sm:12,className:"content-container"},r.a.createElement(y.a.Title,{level:1},"Why 2FA?"),r.a.createElement(y.a.Title,{level:4},"Relying on just usernames and passwords to secure your online accounts is no longer considered safe. Protect yourself by enabling two-factor authentication (2FA). This blocks anyone using your stolen data by verifying your identity through your device."))),r.a.createElement(W.a,null,r.a.createElement(q.a,{xs:24,sm:12,className:"content-container"},r.a.createElement(y.a.Title,{level:1},"Secure"),r.a.createElement(y.a.Title,{level:4},"Vyse Auth is secured by Blockstack's security promise. Blockstack ID provides user-controlled login and storage that enable you to take back control of your identity and data. Your data is stored on your private data lockers with blockchain-based security and encryption."),r.a.createElement("a",{href:"https://blockstack.org/try-blockstack",className:"link",rel:"noopener"},r.a.createElement(y.a.Title,{level:4},"Learn More"))),r.a.createElement(q.a,{xs:24,sm:12},r.a.createElement("img",{src:"/images/secure.png",alt:""}))),r.a.createElement(W.a,null,r.a.createElement(q.a,{xs:24,sm:12},r.a.createElement("img",{src:"/images/lost.png",alt:""})),r.a.createElement(q.a,{xs:24,sm:12,className:"content-container"},r.a.createElement(y.a.Title,{level:1},"Access Your Content Anywhere"),r.a.createElement(y.a.Title,{level:4},"Vyse Auth is available on all your devices. It can be your laptop, your phone, even your game console or your TV! All your 2FA tokens sync across devices and are always available for use."))))}}]),t}(r.a.PureComponent)),M=f.a.Header,B=f.a.Content,K=f.a.Footer,_=new g.AppConfig,J=new g.UserSession({appConfig:_}),Y=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleSignIn",value:function(e){e.preventDefault(),J.redirectToSignIn()}},{key:"handleSignOut",value:function(e){e.preventDefault(),J.signUserOut(window.location.origin)}},{key:"waitSignIn",value:function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J.isSignInPending()){e.next=4;break}return e.next=3,J.handlePendingSignIn();case 3:window.location=window.location.origin;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.waitSignIn()}},{key:"render",value:function(){return r.a.createElement(f.a,{className:"layout"},r.a.createElement(M,null,r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"/logo.png",alt:""}))),r.a.createElement(B,null,r.a.createElement("div",{className:"container"},J.isUserSignedIn()?r.a.createElement(R,{userSession:J,handleSignOut:this.handleSignOut}):r.a.createElement(z,{signIn:this.handleSignIn}))),r.a.createElement(K,null,r.a.createElement("a",{href:"https://vyse.in",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://vyse.in/images/logo/default.png",style:{maxWidth:"90px",marginBottom:"1.2em"},alt:"Vyse"}),r.a.createElement(y.a.Paragraph,null,"\xa9 2019 Vyse"))))}}]),t}(r.a.PureComponent),Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(782),a(783);i.a.render(r.a.createElement(Y,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Q?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):H(t,e)}))}}()}},[[370,1,2]]]);
//# sourceMappingURL=main.800a7a0a.chunk.js.map